<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.8"></script>
</head>
<body>
  <div id="vis"/>
  <script>
    const spec = {
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "params": [
    {
      "name": "PowerType",
      "bind": {
        "input": "select",
        "options": [
          "null",
          "Military Strength Power Index",
          "Aircraft Strength value",
          "Navy Fleet Strengths value"
        ],
        "name": "Select a Power"
      }
    }
  ],
  "vconcat": [
    {
      "title": {
        "text": "Nuclear Weapons Stockpile Ranking",
        "offset": 20,
        "fontSize": 20
      },
      "width": 1200,
      "height": 600,
      "data": {
        "values": [
          {"Country": "United States", "year": 1950, "point": 299},
          {"Country": "Russia", "year": 1950, "point": 5},
          {"Country": "United States", "year": 1960, "point": 18638},
          {"Country": "Russia", "year": 1960, "point": 1627},
          {"Country": "United Kingdom", "year": 1960, "point": 105},
          {"Country": "United States", "year": 1970, "point": 26008},
          {"Country": "Russia", "year": 1970, "point": 11736},
          {"Country": "United Kingdom", "year": 1970, "point": 375},
          {"Country": "France", "year": 1970, "point": 36},
          {"Country": "China", "year": 1970, "point": 75},
          {"Country": "Israel", "year": 1970, "point": 8},
          {"Country": "United States", "year": 1980, "point": 24204},
          {"Country": "Russia", "year": 1980, "point": 30665},
          {"Country": "United Kingdom", "year": 1980, "point": 500},
          {"Country": "France", "year": 1980, "point": 250},
          {"Country": "China", "year": 1980, "point": 205},
          {"Country": "Israel", "year": 1980, "point": 31},
          {"Country": "United States", "year": 1990, "point": 21392},
          {"Country": "Russia", "year": 1990, "point": 32980},
          {"Country": "United Kingdom", "year": 1990, "point": 350},
          {"Country": "France", "year": 1990, "point": 505},
          {"Country": "China", "year": 1990, "point": 235},
          {"Country": "Israel", "year": 1990, "point": 53},
          {"Country": "United States", "year": 2000, "point": 10557},
          {"Country": "Russia", "year": 2000, "point": 12188},
          {"Country": "United Kingdom", "year": 2000, "point": 280},
          {"Country": "France", "year": 2000, "point": 470},
          {"Country": "China", "year": 2000, "point": 232},
          {"Country": "Israel", "year": 2000, "point": 71},
          {"Country": "India", "year": 2000, "point": 13},
          {"Country": "Pakistan", "year": 2000, "point": 14},
          {"Country": "United States", "year": 2010, "point": 5066},
          {"Country": "Russia", "year": 2010, "point": 5215},
          {"Country": "United Kingdom", "year": 2010, "point": 225},
          {"Country": "France", "year": 2010, "point": 300},
          {"Country": "China", "year": 2010, "point": 240},
          {"Country": "Israel", "year": 2010, "point": 80},
          {"Country": "India", "year": 2010, "point": 80},
          {"Country": "Pakistan", "year": 2010, "point": 90},
          {"Country": "United States", "year": 2020, "point": 3800},
          {"Country": "Russia", "year": 2020, "point": 4310},
          {"Country": "United Kingdom", "year": 2020, "point": 195},
          {"Country": "France", "year": 2020, "point": 290},
          {"Country": "China", "year": 2020, "point": 320},
          {"Country": "Israel", "year": 2020, "point": 90},
          {"Country": "India", "year": 2020, "point": 150},
          {"Country": "Pakistan", "year": 2020, "point": 160},
          {"Country": "North Korea", "year": 2020, "point": 35}
        ]
      },
      "transform": [
        {
          "sort": [{"field": "point", "order": "descending"}],
          "window": [{"op": "rank", "as": "rank"}],
          "groupby": ["year"]
        }
      ],
      "mark": {"type": "line", "orient": "vertical", "strokeWidth": 10},
      "encoding": {
        "x": {"field": "year", "type": "ordinal"},
        "y": {"field": "rank", "type": "ordinal"},
        "color": {
          "field": "Country",
          "type": "nominal",
          "scale": {
            "domain": [
              "United States",
              "Russia",
              "United Kingdom",
              "France",
              "China",
              "Israel",
              "India",
              "Pakistan",
              "North Korea"
            ],
            "scheme": "category10"
          }
        },
        "tooltip": [
          {"field": "point", "type": "nominal", "title": "Total Nukes"}
        ]
      }
    },
    {
      "title": {
        "text": "Country Defence Spending Comparison 2020",
        "offset": 10,
        "fontSize": 20
      },
      "width": 1200,
      "height": 720,
      "data": {
        "values": [
          {"category": "China", "value": 237000000000},
          {"category": "United States", "value": 750000000000},
          {"category": "Germany", "value": 50000000000},
          {"category": "India", "value": 61000000000},
          {"category": "Japan", "value": 49000000000},
          {"category": "Russia", "value": 48000000000},
          {"category": "Saudi Arabia", "value": 67600000000},
          {"category": "South Korea", "value": 44000000000},
          {"category": "United Kingdom", "value": 55100000000},
          {"category": "Other", "value": 569421166487}
        ]
      },
      "encoding": {
        "theta": {"field": "value", "type": "quantitative", "stack": true},
        "color": {"field": "category", "type": "nominal", "legend": null}
      },
      "layer": [
        {"mark": {"type": "arc", "outerRadius": 320}},
        {
          "mark": {"type": "text", "radius": 360},
          "encoding": {
            "text": {"field": "category", "type": "nominal"},
            "tooltip": [
              {
                "field": "value",
                "type": "quantitative",
                "title": "Total Spending (USD)"
              }
            ]
          }
        }
      ]
    },
    {
      "title": {
        "text": "World Military Strengths 2020",
        "offset": 10,
        "fontSize": 20
      },
      "width": 1200,
      "height": 600,
      "projection": {"type": "equalEarth"},
      "data": {
        "url": "https://raw.githubusercontent.com/RyanCoppard/DataVis/main/Data/ne_110m_admin_0_countries.topojson",
        "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
      },
      "transform": [
        {
          "lookup": "properties.NAME",
          "from": {
            "data": {
              "url": "https://raw.githubusercontent.com/RyanCoppard/DataVis/main/Data/World%20military%20power.csv"
            },
            "key": "Country",
            "fields": [
              "Military Strength Power Index",
              "Aircraft Strength value",
              "Navy Fleet Strengths value"
            ]
          }
        },
        {"calculate": "datum[PowerType] + 0", "as": "Relative Power"}
      ],
      "mark": {"type": "geoshape"},
      "encoding": {
        "color": {
          "field": "Relative Power",
          "type": "quantitative",
          "scale": {"type": "linear", "scheme": "reds"}
        },
        "tooltip": [
          {"field": "properties.NAME", "type": "nominal", "title": "Country"},
          {"field": "Relative Power", "type": "quantitative"}
        ]
      }
    }
  ],
  "config": {}
};
    vegaEmbed("#vis", spec, {mode: "vega-lite"}).then(console.log).catch(console.warn);
  </script>
</body>
</html>